{{!-- splide carousel --}}
<section class="splide" aria-label="Splide Basic HTML Example">
    <div class="splide__track">
        <ul class="splide__list">
            <li class="splide__slide">
                <img src="/photos/pxlart-4.png" class="crsl-img">
            </li>
            <li class="splide__slide">
                <img src="/photos/pxlart-3.jpeg" class="crsl-img">
            </li>
            <li class="splide__slide">
                <img src="/photos/pxlart-2.gif" class="crsl-img">
            </li>
            <li class="splide__slide">
                <img src="/photos/pxlart.png" class="crsl-img">
            </li>
            <li class="splide__slide">
                <img src="/photos/pxlart-5.png" class="crsl-img">
            </li>
        </ul>
    </div>
</section>

{{!-- three most recent listings --}}
<h1 class="p-3"> LISTINGS </h1>
<main id="recent" class="columns m-3">
    {{#each listings as |listing|}}
    <div id="listing" class="column m-3 p-5" style="line-height: 1.5; min-width: 200px; min-height: 350px;">
        <div id="inner-listing" class="p-3">
            {{#if sold}}
            <div class="my-2">
                <strong>
                    <p style="height:10%">SOLD</p>
                </strong>
            </div>
            {{else}}
            <div class="my-2">
                <a href="/category/{{category.category_name}}/{{id}}" class="my-2">
                    <strong>
                        <p style="height:15%">{{listing.title}}</p>
                    </strong>
                </a>
            </div>
            {{/if}}
            <p style="height:10%" class="my-2">${{price}}</p>
            <p style="height:10%" class="my-2">{{listing.condition}} {{category.category_name}}</p>
            <div class="image is-128x128  my-2" style="height:50%; display: block; margin: auto;">
                {{#if sold}}
                <img id="listingImage" style="filter: grayscale(1);" src="data:image/png;base64,{{image}}" />
                {{else}}
                <img id="listingImage" src="data:image/png;base64,{{image}}" />
                {{/if}}
            </div>
        </div>
    </div>
    {{/each}}
</main>

{{!-- all other listings --}}
<section id="allotherlistings" class="is-multiline columns is-centered mx-3 p-6">
    {{#each allOtherListings}}
    <div id="other-listing" class="column m-3 p-3 is-one-fifth"
        style="line-height: 1.5; min-width: 200px; min-height: 350px;">
        {{#if sold}}
        <div class="my-2">
            <strong>
                <p style="height:10%">SOLD</p>
            </strong>
        </div>
        {{else}}
        <div class="my-2">
            <a href="/category/{{category.category_name}}/{{id}}" class="my-2">
                <strong>
                    <p style="height:15%">{{title}}</p>
                </strong>
            </a>
        </div>
        {{/if}}
        <p class="my-2">${{price}}</p>
        <p class="my-2">{{condition}} {{category.category_name}}</p>
        <div class="image is-128x128  my-1" style=" display: block; margin: auto;">
            {{#if image}}
                {{#if sold}}
                <img id="listingImage" style="filter: grayscale(1); max-width: 100%;"
                    src="data:image/png;base64,{{image}}" />
                {{else}}
                <img id="listingImage" style="max-width: 100%;" src="data:image/png;base64,{{image}}" />
                {{/if}}
            {{/if}}
        </div>
    </div>
    {{/each}}
</section>

{{!-- splide logic for carousel --}}
{{!-- splide cdn and direct code for carousel --}}
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<script>
    var splide = new Splide('.splide', {
        type: 'loop',
        perPage: 1,
        autoplay: true,
        speed: 500,
    });
    splide.mount();
</script>